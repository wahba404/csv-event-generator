import { useState, useEffect } from "react";

export default function Header() {
  const [scrolled, setScrolled] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      const isScrolled = window.scrollY > 0;
      if (isScrolled !== scrolled) {
        setScrolled(isScrolled);
      }
    };
    document.addEventListener("scroll", handleScroll, { passive: true });

    return () => {
      document.removeEventListener("scroll", handleScroll);
    };
  }, [scrolled]);

  return (
    <>
      <header
        className={`fixed w-3/5 flex flex-row py-4 px-4 rounded-lg z-10 duration-100 ${
          scrolled
            ? "bg-white shadow-lg border-solid border-2 border-gray-600"
            : "bg-transparent"
        }`}
        style={{ top: "3rem" }}
      >
        <div className="container mx-auto px-4 py-3 flex justify-between items-center">
          <a href="/">
            <svg
              className={`h-12 w-12 ${
                scrolled ? "fill-slate-900" : "fill-emerald-500"
              }`}
              viewBox="0 0 129.14 122.88"
            >
              <path d="M4.74,0H126.7c1.33,0,2.44,1.09,2.44,2.44v8.26c0,1.33-1.09,2.44-2.44,2.44h-1.77v53.53 c0,0.97-0.4,1.86-1.04,2.5l0,0c-0.64,0.64-1.54,1.04-2.51,1.04h-25.1v4.72h-5.17v7.33c-1.52-2.54-3.42-4.51-5.5-5.88 c-2.48-1.63-5.22-2.44-7.99-2.43c-2.79,0.01-5.52,0.86-7.99,2.52c-2.66,1.8-4.98,4.58-6.58,8.31h-9.08 c-0.17-0.06-0.35-0.13-0.53-0.19c-1.53-0.54-3.13-0.8-4.67-0.8c-1.53,0-3.12,0.26-4.67,0.8c-0.18,0.06-0.35,0.13-0.53,0.19h-3.31 v-9.86h-5.17v-4.72H10.06c-0.98,0-1.87-0.4-2.51-1.04c-0.06-0.06-0.12-0.13-0.17-0.19c-0.55-0.62-0.87-1.44-0.87-2.31V13.14H4.74 c-1.33,0-2.44-1.09-2.44-2.44V2.44C2.3,1.09,3.39,0,4.74,0L4.74,0L4.74,0z M69.51,107.71c-10.57,0-3.62,0.83-2.17-10.67 c2.15-17.19,18.5-17.19,20.91,0c1.54,11.06,8.18,10.67-2.17,10.67h-4.13c-0.02,2.82-0.45,4.26,2.47,5.83 c1.49,0.81,4.27,1.41,6.63,2.34c3.61-3.09,10.04-1.05,10.7-6.72c0.11-0.86-1.93-4.15-2.4-5.73c-1-1.6-1.36-4.12-0.26-5.8 c0.43-0.67,0.25-3.11,0.25-4.03c0-9.15,16.05-9.16,16.05,0c0,1.16-0.26,3.29,0.36,4.19c1.05,1.52,0.51,4.22-0.38,5.63 c-0.57,1.66-2.73,4.79-2.54,5.73c1.55,7.92,12.36-0.56,12.36,13.7c-41.72,0-83.45,0-125.18,0c0-14.49,13.68-6.47,14.73-15.35 c0.12-0.97-2.17-4.66-2.69-6.42c-1.11-1.79-1.52-4.62-0.29-6.5c0.48-0.75,0.28-3.48,0.28-4.52c0-10.27,17.98-10.27,17.98,0 c0,1.3-0.29,3.69,0.41,4.71c1.18,1.7,0.57,4.73-0.42,6.32c-0.64,1.86-3.06,5.37-2.86,6.42c0.76,3.84,10.32,6.44,13.65,7.85 c1.88-0.97,3.39-2.11,3.55-3.44c0.08-0.69-1.54-3.31-1.91-4.57c-0.8-1.27-1.08-3.29-0.21-4.63c0.35-0.54,0.2-2.48,0.2-3.22 c0-7.3,12.81-7.31,12.81,0c0,0.92-0.21,2.63,0.28,3.35c0.84,1.22,0.41,3.37-0.3,4.5c-0.45,1.32-2.18,3.83-2.03,4.57 c0.95,4.79,6.13,2.07,8.58,5.42c2.31-1.82,6.91-2.32,9.72-4c2.56-1.53,2.13-3.08,2.11-5.63L69.51,107.71L69.51,107.71L69.51,107.71 L69.51,107.71z M32.2,53.01c38.53,0,28.21-0.02,67.04-0.02c0.9,0,1.64,0.74,1.64,1.64v10.02c0,0.49-0.22,0.95-0.58,1.25h20.34 V13.41H10.8v52.51h20.34c-0.36-0.3-0.58-0.75-0.58-1.25V54.65C30.56,53.75,31.3,53.01,32.2,53.01L32.2,53.01L32.2,53.01z" />
            </svg>
          </a>
          <nav>
            <ul className="flex">
              <li className="ml-6">
                <a
                  href="https://www.algolia.com/dashboard"
                  target="_blank"
                  className="flex text-gray-600 hover:text-black"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 500 500.34"
                    className="fill-algolia-blue w-4 h-4 mt-1 pr-1"
                  >
                    <path d="M250 0C113.38 0 2 110.16.03 246.32c-2 138.29 110.19 252.87 248.49 253.67 42.71.25 83.85-10.2 120.38-30.05 3.56-1.93 4.11-6.83 1.08-9.52l-23.39-20.74c-4.75-4.22-11.52-5.41-17.37-2.92-25.5 10.85-53.21 16.39-81.76 16.04-111.75-1.37-202.04-94.35-200.26-206.1C48.96 136.37 139.26 47.15 250 47.15h202.83v360.53L337.75 305.43c-3.72-3.31-9.43-2.66-12.43 1.31-18.47 24.46-48.56 39.67-81.98 37.36-46.36-3.2-83.92-40.52-87.4-86.86-4.15-55.28 39.65-101.58 94.07-101.58 49.21 0 89.74 37.88 93.97 86.01.38 4.28 2.31 8.28 5.53 11.13l29.97 26.57c3.4 3.01 8.8 1.17 9.63-3.3 2.16-11.55 2.92-23.6 2.07-35.95-4.83-70.39-61.84-127.01-132.26-131.35-80.73-4.98-148.23 58.18-150.37 137.35-2.09 77.15 61.12 143.66 138.28 145.36 32.21.71 62.07-9.42 86.2-26.97L483.39 497.8c6.45 5.71 16.62 1.14 16.62-7.48V9.49C500 4.25 495.75 0 490.51 0H250Z" />
                  </svg>
                  Dashboard
                </a>
              </li>
              <li className="ml-6">
                <a
                  href="https://www.algolia.com/doc/guides/algolia-recommend/how-to/csv-upload/#format-of-the-csv-file-with-historical-events"
                  target="_blank"
                  className="text-gray-600 hover:text-black"
                >
                  CSV Format Guide
                </a>
              </li>
              <li className="ml-6">
                <a href="/" className="text-gray-600 hover:text-black">
                  Feedback
                </a>
              </li>
            </ul>
          </nav>
        </div>
      </header>
    </>
  );
}
